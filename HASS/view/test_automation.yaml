alias: à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´à¸œà¹ˆà¸²à¸™ Telegram
description: ""
triggers:
  - minutes: /1
    id: high_temp
    trigger: time_pattern
  - minutes: "0"
    id: low_temp
    trigger: time_pattern
conditions:
  - condition: template
    value_template: |
      {% if trigger.id == 'high_temp' %}
        {{ states('sensor.esp32sub01_slora_temperature_2') | float > states('input_number.cooling_fan01_setpoint') | float }}
      {% elif trigger.id == 'low_temp' %}
        {{ states('sensor.esp32sub01_slora_temperature_2') | float < states('input_number.cooling_fan01_setpoint') | float }}
      {% else %}
        false
      {% endif %}
actions:
  - data:
      message: |
        {% if trigger.id == 'high_temp' %}
          âš ï¸ à¸ªà¸–à¸²à¸™à¸°à¸œà¸´à¸”à¸›à¸à¸•à¸´! ğŸ“¢
          ğŸ”¥ à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´: {{ states('sensor.esp32sub01_slora_temperature_2') }} Â°C
          ğŸ¯ à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰: {{ states('input_number.cooling_fan01_setpoint') }} Â°C
        {% elif trigger.id == 'low_temp' %}
          âœ… à¸ªà¸–à¸²à¸™à¸°à¸›à¸à¸•à¸´ ğŸ‰
          ğŸŒ¡ï¸ à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´: {{ states('sensor.esp32sub01_slora_temperature_2') }} Â°C
          ğŸ¯ à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰: {{ states('input_number.cooling_fan01_setpoint') }} Â°C
        {% endif %}
    action: notify.telegram
mode: single
